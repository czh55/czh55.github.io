<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"chenzhiheng.cn","root":"/","scheme":"Pisces","version":"7.7.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="陈志恒的技术博客">
<meta property="og:url" content="http://chenzhiheng.cn/page/109/index.html">
<meta property="og:site_name" content="陈志恒的技术博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Zhiheng Chen">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://chenzhiheng.cn/page/109/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>陈志恒的技术博客</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?6bc779d0e3be483fc01e871fbb7cef3d";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">陈志恒的技术博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://chenzhiheng.cn/2017/09/11/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/request%E5%92%8Cresponse%E6%9C%80%E5%B8%B8%E7%94%A8%E6%89%8B%E5%86%8C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Zhiheng Chen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈志恒的技术博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/09/11/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/request%E5%92%8Cresponse%E6%9C%80%E5%B8%B8%E7%94%A8%E6%89%8B%E5%86%8C/" class="post-title-link" itemprop="url">request和response最常用手册</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-09-11 08:23:00" itemprop="dateCreated datePublished" datetime="2017-09-11T08:23:00+08:00">2017-09-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-12 20:06:07" itemprop="dateModified" datetime="2020-03-12T20:06:07+08:00">2020-03-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web%E5%BC%80%E5%8F%91-czh-java-%E9%9D%9E%E6%A1%86%E6%9E%B6Web%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">web开发/czh_java/非框架Web技术</span>
                  </a>
                </span>
            </span>

          
            <span id="/2017/09/11/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/request%E5%92%8Cresponse%E6%9C%80%E5%B8%B8%E7%94%A8%E6%89%8B%E5%86%8C/" class="post-meta-item leancloud_visitors" data-flag-title="request和response最常用手册" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>6.7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>6 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>2017年9月11日 上午8:23</p>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><ol>
<li>这篇文章是老师给的笔记</li>
<li>前面的几篇文章，可以把它们理解成使用<strong>servlet的前期环境配置</strong>，配置就基本上不动了，此时还没有真正的根据业务来写代码，而这篇文章其实是做<strong>项目期间最有常用的一些内容</strong>，称之为我的编码手册，写逻辑的时候忘了，来这里找，复制过去就好了。<ol>
<li><a href="bear://x-callback-url/open-note?id=01B9FDBA-1DE0-4A12-A2AB-6D22BA7AF9BC-2779-000009EC028CE566">servlet三个作用域</a></li>
<li><a href="bear://x-callback-url/open-note?id=21E0058F-7EF2-4E56-8027-7C089A08810F-2779-000009EC02BF2C8F">Servlet上下文对象</a></li>
<li><a href="bear://x-callback-url/open-note?id=DCF45331-DEB2-46C0-81DF-EADD124D68BA-2779-000009EC0444DFC1">Servlet实现类HttpServlet的使用</a></li>
<li><a href="bear://x-callback-url/open-note?id=65FFB9B6-8A1C-4A0F-A067-B363E86EBAD2-2779-000009EC06AF54C5">servlet简介 + 项目配置步骤</a></li>
</ol>
</li>
<li>其中包括了最常用给的request和response，除了这两个外还有解决乱码，以及路径上的一些理解总结</li>
<li>附录中有原稿</li>
</ol>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">请求响应对象</span><br><span class="line"></span><br><span class="line">request和response</span><br><span class="line">  * 当服务器接收到请求后，服务器会创建request和response对象，把请求数据封装到request对象中；</span><br><span class="line">  * 然后调用Servlet的service()方法时把这两个对象传递给service()方法；</span><br><span class="line">  * 在service()方法中可以通过request对象获取请求数据，可以使用response对象向客户端完成响应；</span><br><span class="line">  </span><br><span class="line">  * 每次请求服务器都会创建新的request和response对象，即每个请求有自己独自的request和response对象。</span><br></pre></td></tr></table></figure>


<h2 id="response对象"><a href="#response对象" class="headerlink" title="response对象"></a>response对象</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line">response对象</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>. response简介</span><br><span class="line">  response是响应对象，用来在Servlet的service()方法中向客户端响应数据。</span><br><span class="line">  response的功能如下：</span><br><span class="line">  * 设置响应头</span><br><span class="line">  * 发送状态码</span><br><span class="line">  * 设置响应正文</span><br><span class="line">  * 重定向</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>. response响应正文</span><br><span class="line">  * <span class="function">ServletOutputStream <span class="title">getOutputStream</span><span class="params">()</span>：用来向客户端响应字节数据；</span></span><br><span class="line"><span class="function">  * PrintWriter <span class="title">getWriter</span><span class="params">()</span>：用来向客户端响应字符数据；</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">  response.<span class="title">getWriter</span><span class="params">()</span>.<span class="title">print</span><span class="params">(<span class="string">"你好"</span>)</span></span>;<span class="comment">//向客户端响应字符数据</span></span><br><span class="line">  <span class="keyword">byte</span>[] bytes = ...;</span><br><span class="line">  response.getOutputStream().write(bytes);<span class="comment">//向客户端响应字节数据</span></span><br><span class="line"></span><br><span class="line"><span class="number">3</span>. response字符编码</span><br><span class="line">  * Tomcat响应数据默认使用ISO-<span class="number">8859</span>-<span class="number">1</span></span><br><span class="line">  * 通常浏览器默认使用GBK编码</span><br><span class="line">  * response.setCharacterEncoding(<span class="string">"utf-8"</span>);<span class="comment">//设置response.getWriter()的字符编码</span></span><br><span class="line"></span><br><span class="line">  <span class="number">1</span>)</span><br><span class="line">  response.getWriter().print(<span class="string">"大家好"</span>);</span><br><span class="line">  因为Tomcat默认使用的是ISO-<span class="number">8859</span>-<span class="number">1</span>编码，不支持中文。所以一定编码！</span><br><span class="line"></span><br><span class="line">  <span class="number">2</span>)</span><br><span class="line">  response.setCharacterEncoding(<span class="string">"utf-8"</span>);</span><br><span class="line">  response.getWriter().print(<span class="string">"大家好"</span>);</span><br><span class="line">  因为已经设置了字符流编码为utf-<span class="number">8</span>，所以响应给客户端的数据为utf-<span class="number">8</span>编码！</span><br><span class="line">  但因为浏览器默认使用的是gbk来解析响应数据，所以乱码！如果浏览器使用utf-<span class="number">8</span>编码，那么就不会乱码了。</span><br><span class="line"></span><br><span class="line">  <span class="number">3</span>)</span><br><span class="line">  response.setCharacterEncoding(<span class="string">"gbk"</span>);</span><br><span class="line">  response.getWriter().print(<span class="string">"大家好"</span>);</span><br><span class="line">  因为设置了字符流编码为gbk，所以响应给客户端的数据为gbk编码！</span><br><span class="line">  因为浏览器默认使用gbk来解析数据，所以不会出现乱码！如果浏览器使用utf-<span class="number">8</span>编码，那么就会出现乱码！</span><br><span class="line"></span><br><span class="line">  <span class="number">4</span>)</span><br><span class="line">  response.setContentType(<span class="string">"text/html;charset=utf-8"</span>);</span><br><span class="line">  response.getWriter().print(<span class="string">"大家好"</span>);</span><br><span class="line">  setContentType()方法有两个作用：</span><br><span class="line">  * 设置字符流编码。等同与调用了response.setCharacterEncoding(<span class="string">"utf-8"</span>)；</span><br><span class="line">  * 设置Content-type响应头，即通知浏览器响应数据的编码为utf-<span class="number">8</span>。</span><br><span class="line">  因为设置字符流的编码为utf-<span class="number">8</span>，所以响应给客户端数据为utf-<span class="number">8</span>编码</span><br><span class="line">  因为设置了Content-type头为utf-<span class="number">8</span>，所以浏览器会使用utf-<span class="number">8</span>来解析响应数据</span><br><span class="line">  没有乱码！</span><br><span class="line"></span><br><span class="line">  <span class="number">5</span>)</span><br><span class="line">  response.setContentType(<span class="string">"text/html;charset=gbk"</span>);</span><br><span class="line">  response.getWriter().print(<span class="string">"大家好"</span>);</span><br><span class="line">  * 设置了字符流为gbk，所以响应给客户端的数据为gbk</span><br><span class="line">  * 设置了Content-type头为gbk，所以通知浏览器响应数据为gbk编码</span><br><span class="line">  没有乱码！</span><br><span class="line"></span><br><span class="line">  <span class="number">6</span>)</span><br><span class="line">  response.setHeader(<span class="string">"Content-type"</span>, <span class="string">"text/html;charset=utf-8"</span>)</span><br><span class="line">  等同于</span><br><span class="line">  repsonse.setContentType(<span class="string">"text/html;charset=utf-8"</span>)</span><br><span class="line"></span><br><span class="line">  <span class="number">7</span>)</span><br><span class="line">  response.getOutputStream().write(<span class="string">"大家好"</span>.getBytes(<span class="string">"gbk"</span>));</span><br><span class="line">  响应的数据是gbk编码</span><br><span class="line">  客户端浏览器默认使用gbk编码</span><br><span class="line">  所以没有乱码</span><br><span class="line"></span><br><span class="line">======================</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>. response字符流缓冲区</span><br><span class="line">  response字符流缓冲区大小为<span class="number">8</span>KB，当向字符流中写入数据后，数据可能只在缓冲区中，而没有发送到浏览器。</span><br><span class="line">  可以调用response.flushBuffer()或response.getWriter().flush()方法刷新缓冲区，把数据发送到浏览器。</span><br><span class="line"></span><br><span class="line">======================</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>. 设置响应头</span><br><span class="line"></span><br><span class="line">  response.setHeader(<span class="string">"Content-type"</span>, <span class="string">"text/html;charset=utf-8"</span>);</span><br><span class="line">  等同与</span><br><span class="line">  response.setContentType(<span class="string">"text/html;charset=utf-8"</span>);</span><br><span class="line"></span><br><span class="line">  response.setHeader(<span class="string">"Refresh"</span>, <span class="string">"5; URL=http://www.baidu.com"</span>);</span><br><span class="line"></span><br><span class="line">======================</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>. 指定状态码</span><br><span class="line"></span><br><span class="line">response.setStatus(<span class="number">200</span>)：设置状态码为<span class="number">200</span></span><br><span class="line">response.sendError(<span class="number">404</span>, “您要查找的资源不存在”)：设置状态码为<span class="number">404</span></span><br><span class="line">repsonse.sendError(<span class="number">500</span>, “服务器出氏了”)：设置状态码为<span class="number">500</span></span><br><span class="line"></span><br><span class="line">在调用sendError()方法时，不只是设置了状态码，而且还会给浏览器一个显示错误的页面。</span><br><span class="line"></span><br><span class="line">======================</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>. 重定向</span><br><span class="line"></span><br><span class="line">response.sendStatus(<span class="number">302</span>);</span><br><span class="line">repsonse.setHeader(<span class="string">"Location"</span>, <span class="string">"http://www.baidu.com"</span>);</span><br><span class="line"></span><br><span class="line">快捷的方法重定向：</span><br><span class="line"></span><br><span class="line">response.sendRedirect(<span class="string">"http://www.baidu.com"</span>);</span><br><span class="line"></span><br><span class="line">* 重定向是两次请求</span><br><span class="line">* 重定向不局限与当前应用，也可以是其他应用，例如重定向到百度</span><br><span class="line">* 重定向响应码为<span class="number">302</span>，而且必须有Location响应头</span><br><span class="line">* 重定向与response响应流同时使用。</span><br></pre></td></tr></table></figure>


<h2 id="request"><a href="#request" class="headerlink" title="request"></a>request</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">request</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>. request功能介绍</span><br><span class="line"> * 获取请求头</span><br><span class="line"> * 获取请求参数</span><br><span class="line"> * Servlet三大域对象之一</span><br><span class="line"> * 请求包含和请求转发</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>. request域方法</span><br><span class="line"> * <span class="function"><span class="keyword">void</span> <span class="title">setAttribute</span><span class="params">(String name, Object value)</span>：添加或替换request域属性</span></span><br><span class="line"><span class="function"> * Object <span class="title">getAttribute</span><span class="params">(String name)</span>：获取request域指定名称的域属性</span></span><br><span class="line"><span class="function"> * <span class="keyword">void</span> <span class="title">removeAttribute</span><span class="params">(String name)</span>：移除request域指定名称的域属性</span></span><br><span class="line"><span class="function"> * Enumeration <span class="title">getAttributeNames</span><span class="params">()</span>：获取所有request域的属性名称</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">3. request获取请求头</span></span><br><span class="line"><span class="function"> * String <span class="title">getHeader</span><span class="params">(String name)</span>：获取指定名称的请求头</span></span><br><span class="line"><span class="function"> * <span class="keyword">int</span> <span class="title">getIntHeader</span><span class="params">(String name)</span>：获取指定名称的请求头，把值转换成<span class="keyword">int</span>类型。</span></span><br><span class="line"><span class="function"> * Enumeration <span class="title">getHeaderNames</span><span class="params">()</span>：获取所有请求头名称</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">4. request获取请求数据相关其他方法</span></span><br><span class="line"><span class="function"> 重点：</span></span><br><span class="line"><span class="function"> * String <span class="title">getMethod</span><span class="params">()</span>：获取请求方式</span></span><br><span class="line"><span class="function"> * String <span class="title">getContextPath</span><span class="params">()</span>：获取上下文路径，即“/” + 应用名称，例如：/day05_1</span></span><br><span class="line"><span class="function"> * <span class="keyword">void</span> <span class="title">setCharacterEncoding</span><span class="params">(String)</span>：设置请求体的编码</span></span><br><span class="line"><span class="function"> * String <span class="title">getRemoteAddr</span><span class="params">()</span>：获取客户端IP地址</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"> 非重点：</span></span><br><span class="line"><span class="function"> * <span class="keyword">int</span> <span class="title">getContentLength</span><span class="params">()</span>：获取请求体字节数</span></span><br><span class="line"><span class="function"> * Locale <span class="title">getLocale</span><span class="params">()</span>：获取请求Locale，例如zh_CN表示中文，中国</span></span><br><span class="line"><span class="function"> * String <span class="title">getCharacterEncoding</span><span class="params">()</span>：获取请求体编码，在没有调用<span class="title">setCharacterEncoding</span><span class="params">()</span>之前该方法返回<span class="keyword">null</span></span></span><br><span class="line"><span class="function"> * String <span class="title">getQueryString</span><span class="params">()</span>：获取参数列表，例如：username</span>=zhangSan&amp;password=<span class="number">123</span></span><br><span class="line"> * <span class="function">String <span class="title">getRequestURI</span><span class="params">()</span>：返回请求URI路径，从应用名称开始，到参数之前这一段，例如：/day05_1/AServlet</span></span><br><span class="line"><span class="function"> * StringBuffer <span class="title">getRequestURL</span><span class="params">()</span>：整个请求URL，不包含参数部分</span></span><br><span class="line"><span class="function"> * String <span class="title">getServletPath</span><span class="params">()</span>：返回Servlet路径，从应用名称后开始，到参数之前这一段，不包含应用名称。</span></span><br><span class="line"><span class="function"> * String <span class="title">getServerName</span><span class="params">()</span>：返回主机名，例如：localhost</span></span><br><span class="line"><span class="function"> * <span class="keyword">int</span> <span class="title">getServerPort</span><span class="params">()</span>：返回服务器端口号，例如：8080</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">5. 获取请求参数</span></span><br><span class="line"><span class="function"> 获取请求参数，即获取超链接上的参数和表单中的参数</span></span><br><span class="line"><span class="function"> * String <span class="title">getParameter</span><span class="params">(String name)</span>：获取指定名称的参数，如果存在同名参数，那么该方法只获取第一个参数值</span></span><br><span class="line"><span class="function"> * String[] <span class="title">getParameterValues</span><span class="params">(String name)</span>：获取指定名称的参数，因为同名参数的存在，所以返回值为String[]</span></span><br><span class="line"><span class="function"> * Enumeration <span class="title">getParameterNames</span><span class="params">()</span>:获取所有参数名称</span></span><br><span class="line"><span class="function"> * Map <span class="title">getParameterMap</span><span class="params">()</span>：获取所有参数，封装到Map中，key为参数名称，value为参数值。</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">6. 请求包含和请求转发</span></span><br><span class="line"><span class="function"> * 请求包含和请求转发都是在一个请求中，访问两个Servlet。</span></span><br><span class="line"><span class="function"> * 请求包含和请求转发都是有一个Servlet去调用执行另一个Servlet</span></span><br><span class="line"><span class="function"> * 请求包含和请求转发都可以共享request中的数据，因为都是一个请求。</span></span><br><span class="line"><span class="function"> </span></span><br><span class="line"><span class="function"> * 从AServlet请求转发到BServlet</span></span><br><span class="line"><span class="function">   &gt; 在AServlet中可以设置响应头</span></span><br><span class="line"><span class="function">   &gt; 在AServlet中不能使用响应流输出</span></span><br><span class="line"><span class="function"> </span></span><br><span class="line"><span class="function"> 如果在AServlet中执行了响应操作，那么有两种可能：</span></span><br><span class="line"><span class="function"> * 如果在AServlet中响应的数据导致response提交，那么在转发时抛出异常；</span></span><br><span class="line"><span class="function"> * 如果在AServlet中响应的数据没有导致response提交，那么response中的数据会被清空。</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"> * 从AServlet请求包含BServlet</span></span><br><span class="line"><span class="function">   &gt; 在AServlet可以设置响应头</span></span><br><span class="line"><span class="function">   &gt; 在AServlet可以使用响应流输出</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"> * 请求转发和请求包含都要使用RequestDispatcher对象：RequestDispatcher rd </span>= request.getRequestDispatcher(<span class="string">"/BServlet"</span>);</span><br><span class="line"> * 请求转发执行RequestDispatcher的forward()方法：rd.forward(request,response);</span><br><span class="line"> * 请求包含执行RequestDispatcher的include()方法：rd.include(request,response);</span><br><span class="line"> * 请求转发和请求包含的路径都是服务器端路径，相对当前应用</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">7</span>. 请求转发与重定向</span><br><span class="line"> * 请求转发是一个请求，而重定向是两个请求</span><br><span class="line"> * 请求转发，是使用RequestDispatcher来完成，重定向使用response对象来完成</span><br><span class="line"> * 请求转发的路径都是服务器端路径，而重定向是客户端路径，需要给出应用名称</span><br><span class="line"> * 请求转发在浏览器地址栏中的地址是第一个Servlet的路径，而重定向在地址栏中的地址是第二个请求的Servlet的路径</span><br><span class="line"> * 请求转发中的两个Servlet是可以共享request数据的，而重定向因为是两个请求，所以不能共享request数据</span><br><span class="line"> * 请求转发只能转发到本应用的其他Servlet，而重定向可以重定向到其他应用中。</span><br><span class="line"></span><br><span class="line"><span class="number">8</span>. request.getParameter()和request.getAttribute()</span><br><span class="line"> * getParameter()是获取客户端参数，它是从客户端传递给服务器的数据。</span><br><span class="line"> * getAttribute()是获取服务器端自己设置的数据，而不是客户端的数据。</span><br><span class="line"> * request没有setParameter()方法，不能自己设置参数，参数都由客户端传递</span><br><span class="line"> * request有setAttribute()方法，在getAttribute()之前，需要先setAttribute()才能获取到。</span><br><span class="line"> * getAttribute()和setAttribute()是用来在请求转发和请求包含中的多个Servlet中共享数据。</span><br></pre></td></tr></table></figure>

<h2 id="路径"><a href="#路径" class="headerlink" title="路径"></a>路径</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">路径</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>. 客户端路径和服务器端路径</span><br><span class="line"> * 客户端路径需要给出应用名称，例如：/day05_1/AServlet</span><br><span class="line"> * 服务器端路径无需给出应用名称，例如：/AServlet</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>. 客户端路径</span><br><span class="line"> <span class="number">1</span>). 页面中都是客户端路径：</span><br><span class="line"> * 超链接的href</span><br><span class="line"> * 表单的action</span><br><span class="line"> * &lt;img&gt;的src</span><br><span class="line"> <span class="number">2</span>). 重定向也是客户端路径：response.sendRedirect(<span class="string">"/day05_1/BServlet"</span>);</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>. 服务器端路径</span><br><span class="line"> * &lt;url-pattern&gt;</span><br><span class="line"> * 请求转发和请求包含</span><br><span class="line"> * ServletContext获取资源等</span><br></pre></td></tr></table></figure>

<h2 id="乱码"><a href="#乱码" class="headerlink" title="乱码"></a>乱码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">乱码</span><br><span class="line"><span class="number">1</span>. 请求编码</span><br><span class="line"> * 客户端发送的数据编码：由浏览器来决定：</span><br><span class="line">  <span class="number">1</span>). 如果是在地址栏中直接给出url，那么一般都是默认为GBK，但这个可能不太大。</span><br><span class="line">  <span class="number">2</span>). 如果是通过页面上的表单或超链接发出请求，那么由当前页面的编码来决定发送的参数的编码。</span><br><span class="line"></span><br><span class="line"> * 无论浏览器发送过来的是什么编码的数据，Tomcat都默认使用ISO-<span class="number">8859</span>-<span class="number">1</span>来解码</span><br><span class="line">  <span class="number">1</span>). POST：可以使用request.setCharacterEncoding()方法来设置请求体数据的编码，因为POST请求参数在请求体中，所以是可以设置编码的。在使用request.getParameter()方法获取参数之前，先使用request.setCharacterEncoding()方法来设置编码即可。</span><br><span class="line">  <span class="number">2</span>). GET：没有方法可以设置它，因为参数在url中。所以使用request.getParameter()获取到的数据一定是错误的使用了iso-<span class="number">8859</span>-<span class="number">1</span>解码的。可以再使用iso-<span class="number">8859</span>-<span class="number">1</span>把字符串转回到<span class="keyword">byte</span>[]，再重新使用正确的编码来解码即可。</span><br><span class="line">  String s = request.getParameter(<span class="string">"s"</span>);<span class="comment">//使用iso-8859-1错误的解码了</span></span><br><span class="line">  <span class="keyword">byte</span>[] bytes = s.getBytes(<span class="string">"iso-8859-1"</span>);<span class="comment">//退回错误的解码，让字符串通过iso-8859-1返回到字节数据，即还原字节数据</span></span><br><span class="line">  s = <span class="keyword">new</span> String(bytes, <span class="string">"utf-8"</span>);<span class="comment">//重新使用正确的utf-8来解码。</span></span><br></pre></td></tr></table></figure>


<h2 id="附录："><a href="#附录：" class="headerlink" title="附录："></a>附录：</h2><p><a href="request%E5%92%8Cresponse.txt">request和response.txt</a><br><a href="servlet.txt">servlet.txt</a><br><a href="tomcat%E5%8F%8Aweb%E5%85%A5%E9%97%A8.txt">tomcat及web入门.txt</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://chenzhiheng.cn/2017/09/11/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/EL%E8%A1%A8%E8%BE%BE%E5%BC%8F+JSTL/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Zhiheng Chen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈志恒的技术博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/09/11/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/EL%E8%A1%A8%E8%BE%BE%E5%BC%8F+JSTL/" class="post-title-link" itemprop="url">EL表达式+JSTL</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-09-11 05:40:00" itemprop="dateCreated datePublished" datetime="2017-09-11T05:40:00+08:00">2017-09-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-12 20:06:07" itemprop="dateModified" datetime="2020-03-12T20:06:07+08:00">2020-03-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web%E5%BC%80%E5%8F%91-czh-java-%E9%9D%9E%E6%A1%86%E6%9E%B6Web%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">web开发/czh_java/非框架Web技术</span>
                  </a>
                </span>
            </span>

          
            <span id="/2017/09/11/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/EL%E8%A1%A8%E8%BE%BE%E5%BC%8F+JSTL/" class="post-meta-item leancloud_visitors" data-flag-title="EL表达式+JSTL" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>9.4k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>9 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>2017年9月11日 下午5:40</p>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><ol>
<li><strong>目的</strong>：其实就是<strong>取代jsp</strong>，为了让页面看起来更加整齐</li>
<li>这里的内容基本不用记，把<strong>下面说的重点记住就行了，其他不用记</strong></li>
<li>注意 <ol>
<li>区分大小写</li>
<li><a href="el%E8%A1%A8%E8%BE%BE%E5%BC%8F.txt">el表达式.txt</a><br><a href="jstl.txt">jstl.txt</a></li>
</ol>
</li>
</ol>
<h2 id="EL表达式"><a href="#EL表达式" class="headerlink" title="EL表达式"></a>EL表达式</h2><p>核心重点：</p>
<ol>
<li>EL用来代替&lt;%=…%&gt;</li>
<li>EL操作四大域的内置对象：它们是Map类型，用来代替jsp的内置对象<ol>
<li>pageScope</li>
<li>requestScope</li>
<li>sessionScope</li>
<li>applicationScope</li>
</ol>
</li>
<li>EL函数库<ol>
<li>&lt;%@taglib prefix=”fn” uri=”<a href="http://java.sun.com/jsp/jstl/functions&quot;" target="_blank" rel="noopener">http://java.sun.com/jsp/jstl/functions&quot;</a> %&gt;</li>
<li>处理字符串用<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><span class="line">EL：Expression Language，它是可以在JSP页面中直接使用的语言！</span><br><span class="line">JSP页面也可以忽略EL：<span class="tag">&lt;<span class="name">@page</span> <span class="attr">isELIgnored</span>=<span class="string">"true"</span>%&gt;</span></span><br><span class="line">EL用来代替<span class="tag">&lt;<span class="name">%=...%</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--------------------</span><br><span class="line"></span><br><span class="line">格式：$&#123;...&#125;，例如：$&#123;1 + 2&#125;，会在页面上输出3</span><br><span class="line"></span><br><span class="line">--------------------</span><br><span class="line"></span><br><span class="line">运算符：+ - * / % == != <span class="tag">&lt; &gt;</span> <span class="tag">&lt;<span class="name">=</span> &gt;</span>= &amp;&amp; ! || empty</span><br><span class="line">$&#123;empty ""&#125; --&gt; 输出true，判断集合、数据、字符串长度是否为0</span><br><span class="line"></span><br><span class="line">$&#123;null&#125;，不会输出！如果是null不输出！</span><br><span class="line"></span><br><span class="line">--------------------</span><br><span class="line"></span><br><span class="line">EL内置对象</span><br><span class="line"></span><br><span class="line">EL一共11个内置对象</span><br><span class="line"></span><br><span class="line">EL操作四大域的内置对象：它们是Map类型</span><br><span class="line">pageScope</span><br><span class="line">requestScope</span><br><span class="line">sessionScope</span><br><span class="line">applicationScope</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$&#123;pageScope.user&#125;：输出pageContext.getAttribute("user")</span><br><span class="line">$&#123;requestScope.user&#125;：输出request.getAttribute("user");</span><br><span class="line">$&#123;sessionScope.user&#125;：输出session.getAttribute("user");</span><br><span class="line">$&#123;applicationScope.user&#125;：输出application.getAttribute("user");</span><br><span class="line"></span><br><span class="line">$&#123;user&#125;</span><br><span class="line">依次在pageScope、requestScope、sessionScope、applicationScope中查找user</span><br><span class="line">如果查找到，那么立刻停止查找。</span><br><span class="line"></span><br><span class="line">el表达式的默认取值查找方式是全域查找   按作用域范围从小到大依次查找   找到一个对应的键值对之后立即停止查找并显示</span><br><span class="line">如果加上对应的域范围查找  那么是指定域查找  只在指定作用域查找对应的键值对 有则显示 无则显示null</span><br><span class="line"></span><br><span class="line">-----------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">操作JavaBean</span><br><span class="line"></span><br><span class="line">$&#123;pageScope.user.username&#125;</span><br><span class="line">$&#123;pageScope.user.password&#125;</span><br><span class="line"></span><br><span class="line">-----------</span><br><span class="line"></span><br><span class="line">操作List</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$&#123;pageScope.list[0].username&#125;</span><br><span class="line">$&#123;pageScope.list[0].password&#125;</span><br><span class="line"></span><br><span class="line">-----------</span><br><span class="line"></span><br><span class="line">操作Map</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$&#123;pageScope.map.u1.username&#125;</span><br><span class="line">$&#123;pageScope.map.u1.password&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">------------------</span><br><span class="line"></span><br><span class="line">应用初始化参数内置对象：Map类型</span><br><span class="line">initParam：Map<span class="tag">&lt;<span class="name">String,String</span>&gt;</span></span><br><span class="line"></span><br><span class="line">用来获取web.xml文件中的<span class="tag">&lt;<span class="name">context-param</span>&gt;</span>参数，例如：</span><br><span class="line"></span><br><span class="line">web.xml</span><br><span class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>p1<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>v1<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line">	</span><br><span class="line">$&#123;initParam.p1&#125;</span><br><span class="line"></span><br><span class="line">------------------</span><br><span class="line"></span><br><span class="line">与Cookie相关的内置对象：Map类型</span><br><span class="line">cookie：Map<span class="tag">&lt;<span class="name">String,Cookie</span>&gt;</span>，其中key是Cookie的名称，而值是Cookie对象</span><br><span class="line"></span><br><span class="line">$&#123;cookie.jsessionid.value&#125;：获取sessionid</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">------------------</span><br><span class="line"></span><br><span class="line">EL中最重要的就是操作四大域！</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">==========================</span><br><span class="line">==========================</span><br><span class="line">==========================</span><br><span class="line"></span><br><span class="line">EL函数库</span><br><span class="line"></span><br><span class="line">EL函数库，当前就是一些函数了。</span><br><span class="line"></span><br><span class="line">使用EL函数库需要在JSP页面中导入标签库：</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">%@taglib</span> <span class="attr">prefix</span>=<span class="string">"fn"</span> <span class="attr">uri</span>=<span class="string">"http://java.sun.com/jsp/jstl/functions"</span> %&gt;</span></span><br><span class="line">…</span><br><span class="line">String[] strs = &#123;"a", "b","c"&#125;;</span><br><span class="line">List list = new ArrayList();</span><br><span class="line">list.add("a");</span><br><span class="line">pageContext.setAttribute("arr", strs);</span><br><span class="line">pageContext.setAttribute("list", list);</span><br><span class="line">%&gt;</span><br><span class="line">$&#123;fn:length(arr) &#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="comment">&lt;!--3--&gt;</span></span><br><span class="line">$&#123;fn:length(list) &#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="comment">&lt;!--1--&gt;</span></span><br><span class="line">$&#123;fn:toLowerCase("Hello") &#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span> <span class="comment">&lt;!-- hello --&gt;</span></span><br><span class="line">$&#123;fn:toUpperCase("Hello") &#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span> <span class="comment">&lt;!-- HELLO --&gt;</span></span><br><span class="line">$&#123;fn:contains("abc", "a")&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="comment">&lt;!-- true --&gt;</span></span><br><span class="line">$&#123;fn:containsIgnoreCase("abc", "Ab")&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="comment">&lt;!-- true --&gt;</span></span><br><span class="line">$&#123;fn:contains(arr, "a")&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="comment">&lt;!-- true --&gt;</span></span><br><span class="line">$&#123;fn:containsIgnoreCase(list, "A")&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="comment">&lt;!-- true --&gt;</span></span><br><span class="line">$&#123;fn:endsWith("Hello.java", ".java")&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="comment">&lt;!-- true --&gt;</span></span><br><span class="line">$&#123;fn:startsWith("Hello.java", "Hell")&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="comment">&lt;!-- true --&gt;</span></span><br><span class="line">$&#123;fn:indexOf("Hello-World", "-")&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="comment">&lt;!-- 5 --&gt;</span></span><br><span class="line">$&#123;fn:join(arr, ";")&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="comment">&lt;!-- a;b;c --&gt;</span></span><br><span class="line">$&#123;fn:replace("Hello-World", "-", "+")&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="comment">&lt;!-- Hello+World --&gt;</span></span><br><span class="line">$&#123;fn:join(fn:split("a;b;c;", ";"), "-")&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="comment">&lt;!-- a-b-c --&gt;</span></span><br><span class="line"></span><br><span class="line">$&#123;fn:substring("0123456789", 6, 9)&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="comment">&lt;!-- 678 --&gt;</span></span><br><span class="line">$&#123;fn:substring("0123456789", 5, -1)&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="comment">&lt;!-- 56789 --&gt;</span></span><br><span class="line">$&#123;fn:substringAfter("Hello-World", "-")&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="comment">&lt;!-- World --&gt;</span></span><br><span class="line">$&#123;fn:substringBefore("Hello-World", "-")&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="comment">&lt;!-- Hello --&gt;</span></span><br><span class="line">$&#123;fn:trim("     a b c     ")&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="comment">&lt;!-- a b c --&gt;</span></span><br><span class="line">$&#123;fn:escapeXml("<span class="tag">&lt;<span class="name">html</span>&gt;</span><span class="tag">&lt;/<span class="name">html</span>&gt;</span>")&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span> <span class="comment">&lt;!-- &lt;html&gt;&lt;/html&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">====================</span><br><span class="line"></span><br><span class="line">	String toUpperCase(String input)：把参数转换成大写</span><br><span class="line">	String toLowerCase(String input)：把参数转换成小写</span><br><span class="line">	int indexOf(String input, String substring)：从大串，输出小串的位置！</span><br><span class="line">	boolean contains(String input, String substring)：查看大串中是否包含小串</span><br><span class="line">	boolean containsIgnoreCase(String input, String substring)：忽略大小写的，是否包含</span><br><span class="line">	boolean startsWith(String input, String substring)：是否以小串为前缀</span><br><span class="line">	boolean endsWith(String input, String substring)：是否以小串为后缀</span><br><span class="line">	String substring(String input, int beginIndex, int endIndex)：截取子串</span><br><span class="line">	String substringAfter(String input, String substring)：获取大串中，小串所在位置后面的字符串</span><br><span class="line">	substringBefore(String input, String substring)：获取大串中，小串所在位置前面的字符串</span><br><span class="line">	String escapeXml(String input)：把input中“<span class="tag">&lt;<span class="name">”、"</span>&gt;</span>"、"&amp;"、"'"、"""，进行转义</span><br><span class="line">	String trim(String input)：去除前后空格</span><br><span class="line">	String replace(String input, String substringBefore, String substringAfter)：替换</span><br><span class="line">	String[] split(String input, String delimiters)：分割字符串，得到字符串数组</span><br><span class="line">	int length(Object obj)：可以获取字符串、数组、各种集合的长度！</span><br><span class="line">	String join(String array[], String separator)：联合字符串数组</span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ol>
<h2 id="JSTL-JavaServer-Pages-Standard-Tag-Library"><a href="#JSTL-JavaServer-Pages-Standard-Tag-Library" class="headerlink" title="JSTL    (JavaServer Pages Standard Tag Library)"></a>JSTL    (JavaServer Pages Standard Tag Library)</h2><p>重点</p>
<ol>
<li><strong>逻辑控制语句</strong><ol>
<li>&lt;%taglib prefix=”c” uri=”<a href="http://java.sun.com/jsp/jstl/core&quot;%&gt;" target="_blank" rel="noopener">http://java.sun.com/jsp/jstl/core&quot;%&gt;</a> </li>
<li>这里一定更要c字母表示</li>
</ol>
</li>
<li><strong>格式刷format</strong><ol>
<li>&lt;%@ taglib prefix=”fmt” uri=”<a href="http://java.sun.com/jsp/jstl/fmt&quot;" target="_blank" rel="noopener">http://java.sun.com/jsp/jstl/fmt&quot;</a> %&gt; </li>
<li>一定用fmt<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br></pre></td><td class="code"><pre><span class="line">Apache提供的标签库，</span><br><span class="line">jar包：jstl-1.2.jar，如果MyEclipse，它会在我们导入jar包，无需自己导入，如果没有使用MyEclipse那么需要自行导入。</span><br><span class="line"></span><br><span class="line">------------------</span><br><span class="line"></span><br><span class="line">导入JSTL核心标签库</span><br><span class="line"><span class="tag">&lt;<span class="name">%taglib</span> <span class="attr">prefix</span>=<span class="string">"c"</span> <span class="attr">uri</span>=<span class="string">"http://java.sun.com/jsp/jstl/core"</span>%&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">c:set</span>&gt;</span> </span><br><span class="line">* <span class="tag">&lt;<span class="name">c:set</span> <span class="attr">var</span>=<span class="string">"a"</span> <span class="attr">value</span>=<span class="string">"hello"</span>/&gt;</span> 创建名为a,值为hello的域属性，范围：page</span><br><span class="line">* <span class="tag">&lt;<span class="name">c:set</span> <span class="attr">var</span>=<span class="string">"a"</span> <span class="attr">value</span>=<span class="string">"hello"</span> <span class="attr">scope</span>=<span class="string">"session"</span>/&gt;</span> 范围为session</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">c:out</span>&gt;</span></span><br><span class="line">* <span class="tag">&lt;<span class="name">c:out</span> <span class="attr">value</span>=<span class="string">"aaa"</span>/&gt;</span> 输出字符串aaa</span><br><span class="line">* <span class="tag">&lt;<span class="name">c:out</span> <span class="attr">value</span>=<span class="string">"$&#123;aaa&#125;"</span>/&gt;</span> 输出域属性aaa，其中与$&#123;aaa&#125;相同</span><br><span class="line">* <span class="tag">&lt;<span class="name">c:out</span> <span class="attr">value</span>=<span class="string">"$&#123;aaa&#125;"</span> <span class="attr">default</span>=<span class="string">"xxx"</span>/&gt;</span>如果$&#123;aaa&#125;不存在，那么输出xxx字符串</span><br><span class="line">* <span class="tag">&lt;<span class="name">c:out</span> <span class="attr">value</span>=<span class="string">"$&#123;aaa&#125;"</span> <span class="attr">escapeXml</span>=<span class="string">"true"</span>/&gt;</span>如果$&#123;aaa&#125;中包含特殊字符，那么转义它。这可以防止javascript攻击</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">c:remove</span>&gt;</span></span><br><span class="line">* <span class="tag">&lt;<span class="name">c:remove</span> <span class="attr">var</span>=<span class="string">"a"</span>/&gt;</span> 删除名为a的域属性</span><br><span class="line">* <span class="tag">&lt;<span class="name">c:remove</span> <span class="attr">var</span>=<span class="string">"a"</span> <span class="attr">scope</span>=<span class="string">"page"</span>/&gt;</span> 删除page域中名为a的域属性</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">c:url</span>&gt;</span></span><br><span class="line">* <span class="tag">&lt;<span class="name">c:url</span> <span class="attr">value</span>=<span class="string">"/AServlet"</span>/&gt;</span> 输出URL：/项目名/AServlet</span><br><span class="line">* <span class="tag">&lt;<span class="name">c:url</span> <span class="attr">value</span>=<span class="string">"/AServlet"</span> <span class="attr">var</span>=<span class="string">"url"</span> <span class="attr">scope</span>=<span class="string">"page"</span>/&gt;</span> 把生成的url保存到page域中，而不会输出</span><br><span class="line">* <span class="tag">&lt;<span class="name">c:url</span> <span class="attr">value</span>=<span class="string">"/AServlet"</span>&gt;</span>：输出URL：/项目名/AServlet?username=%xx%xx%xx%xx%xx%xx，其中张三会被URL编码</span><br><span class="line">   <span class="tag">&lt;<span class="name">c:param</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"张三"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">c:url</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">c:if</span>&gt;</span></span><br><span class="line">* <span class="tag">&lt;<span class="name">c:if</span> <span class="attr">test</span>=<span class="string">"$&#123;条件&#125;"</span>&gt;</span> 当条件为true时执行标签体内容</span><br><span class="line">    hello</span><br><span class="line">  <span class="tag">&lt;/<span class="name">c:if</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">c:choose</span>&gt;</span></span><br><span class="line">* <span class="tag">&lt;<span class="name">c:choose</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">c:when</span> <span class="attr">test</span>=<span class="string">"$&#123;条件1&#125;"</span>&gt;</span>a<span class="tag">&lt;/<span class="name">c:when</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">c:when</span> <span class="attr">test</span>=<span class="string">"$&#123;条件2&#125;"</span>&gt;</span>b<span class="tag">&lt;/<span class="name">c:when</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">c:when</span> <span class="attr">test</span>=<span class="string">"$&#123;条件3&#125;"</span>&gt;</span>c<span class="tag">&lt;/<span class="name">c:when</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">c:otherwise</span>&gt;</span>d<span class="tag">&lt;/<span class="name">c:otherwise</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">c:choose</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  等同与：</span><br><span class="line">  if() &#123;</span><br><span class="line">  &#125; esle if() &#123;</span><br><span class="line">  &#125; esle if() &#123;</span><br><span class="line">  &#125; else if() &#123;</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">-------------</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">c:forEach</span>&gt;</span></span><br><span class="line"></span><br><span class="line">可以用来遍历数组、List、Map、</span><br><span class="line"></span><br><span class="line">1. 计数循环</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">c:forEach</span> <span class="attr">begin</span>=<span class="string">"1"</span> <span class="attr">end</span>=<span class="string">"10"</span> <span class="attr">var</span>=<span class="string">"i"</span>&gt;</span></span><br><span class="line"> $&#123;i&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">c:forEach</span>&gt;</span></span><br><span class="line">等同于</span><br><span class="line">for(int i = 1; i <span class="tag">&lt;<span class="name">=</span> <span class="attr">10</span>; <span class="attr">i</span>++) &#123;</span></span><br><span class="line"><span class="tag">  <span class="attr">out.println</span>(<span class="attr">i</span>);</span></span><br><span class="line"><span class="tag">&#125;</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line">&lt;c:forEach begin="1" end="10" var="i" step="2"&gt;</span><br><span class="line"> $&#123;i&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">c:forEach</span>&gt;</span></span><br><span class="line">等同于</span><br><span class="line">for(int i = 1; i <span class="tag">&lt;<span class="name">=</span> <span class="attr">10</span>; <span class="attr">i</span>+=<span class="string">2)</span> &#123;</span></span><br><span class="line"><span class="tag">  <span class="attr">out.println</span>(<span class="attr">i</span>);</span></span><br><span class="line"><span class="tag">&#125;</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"><span class="attr">-------------</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"><span class="attr">2.</span> 遍历数组</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line">&lt;%</span><br><span class="line">String[] names = &#123;"zhangSan", "liSi", "wangWu", "zhaoLiu"&#125;;</span><br><span class="line">pageContext.setAttribute("ns", names);</span><br><span class="line">%&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">c:forEach</span> <span class="attr">var</span>=<span class="string">"item "</span> <span class="attr">items</span>=<span class="string">"$&#123;ns &#125; "</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">c:out</span> <span class="attr">value</span>=<span class="string">"name: $&#123;item &#125; "</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">c:forEach</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-------------</span><br><span class="line"></span><br><span class="line">3. 遍历List</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span></span></span><br><span class="line">	List&lt;String&gt; names = new ArrayList&lt;String&gt;();</span><br><span class="line">	names.add("zhangSan");</span><br><span class="line">	names.add("liSi");</span><br><span class="line">	names.add("wangWu");</span><br><span class="line">	names.add("zhaoLiu");</span><br><span class="line">	pageContext.setAttribute("ns", names);</span><br><span class="line">%&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">c:forEach</span> <span class="attr">var</span>=<span class="string">"item"</span> <span class="attr">items</span>=<span class="string">"$&#123;ns &#125;"</span>&gt;</span> </span><br><span class="line">	<span class="tag">&lt;<span class="name">c:out</span> <span class="attr">value</span>=<span class="string">"name: $&#123;item &#125;"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">c:forEach</span>&gt;</span></span><br><span class="line"></span><br><span class="line">-------------</span><br><span class="line"></span><br><span class="line">4. 遍历Map</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span></span></span><br><span class="line">	Map&lt;String,String&gt; stu = new LinkedHashMap&lt;String,String&gt;();</span><br><span class="line">	stu.put("number", "N_1001");</span><br><span class="line">	stu.put("name", "zhangSan");</span><br><span class="line">	stu.put("age", "23");</span><br><span class="line">	stu.put("sex", "male");</span><br><span class="line">	pageContext.setAttribute("stu", stu);</span><br><span class="line">%&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">c:forEach</span> <span class="attr">var</span>=<span class="string">"item "</span> <span class="attr">items</span>=<span class="string">"$&#123;stu &#125;"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">c:out</span> <span class="attr">value</span>=<span class="string">"$&#123;item.key &#125;: $&#123;item.value &#125; "</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">c:forEach</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-------------</span><br><span class="line"></span><br><span class="line">5. 循环状态对象</span><br><span class="line"></span><br><span class="line">循环状态对象是用来说明循环的状态的，属性如下：</span><br><span class="line">count：int类型，当前已遍历元素的个数；</span><br><span class="line">index：int类型，当前元素的下标；</span><br><span class="line">first：boolean类型，是否为第一个元素；</span><br><span class="line">last：boolean类型，是否为最后一个元素；</span><br><span class="line">current：Object类型，表示当前元素。</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">c:forEach</span> <span class="attr">var</span>=<span class="string">"item"</span> <span class="attr">items</span>=<span class="string">"$&#123;ns &#125;"</span> <span class="attr">varStatus</span>=<span class="string">"vs"</span> &gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">c:if</span> <span class="attr">test</span>=<span class="string">"$&#123;vs.first &#125; "</span>&gt;</span>第一行：<span class="tag">&lt;/<span class="name">c:if</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">c:if</span> <span class="attr">test</span>=<span class="string">"$&#123;vs.last &#125; "</span>&gt;</span>最后一行：<span class="tag">&lt;/<span class="name">c:if</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">c:out</span> <span class="attr">value</span>=<span class="string">"第$&#123;vs.count &#125; 行: "</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">c:out</span> <span class="attr">value</span>=<span class="string">"[$&#123;vs.index &#125; ]: "</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">c:out</span> <span class="attr">value</span>=<span class="string">"name: $&#123;vs.current &#125; "</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">c:forEach</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">------------------</span><br><span class="line"></span><br><span class="line">导入JSTL格式化标签库</span><br><span class="line"></span><br><span class="line">format</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">%@</span> <span class="attr">taglib</span> <span class="attr">prefix</span>=<span class="string">"fmt"</span> <span class="attr">uri</span>=<span class="string">"http://java.sun.com/jsp/jstl/fmt"</span> %&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span></span></span><br><span class="line"><span class="tag">	<span class="attr">Date</span> <span class="attr">date</span> = <span class="string">new</span> <span class="attr">Date</span>();</span></span><br><span class="line"><span class="tag">	<span class="attr">pageContext.setAttribute</span>("<span class="attr">d</span>", <span class="attr">date</span>);</span></span><br><span class="line"><span class="tag">%&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">fmt:formatDate</span> <span class="attr">value</span>=<span class="string">"$&#123;d &#125;"</span> <span class="attr">pattern</span>=<span class="string">"yyyy-MM-dd HH:mm:ss "</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">---------</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span></span></span><br><span class="line"><span class="tag">	<span class="attr">double</span> <span class="attr">d1</span> = <span class="string">3.5;</span></span></span><br><span class="line"><span class="tag">	<span class="attr">double</span> <span class="attr">d2</span> = <span class="string">4.4;</span> </span></span><br><span class="line"><span class="tag">	<span class="attr">pageContext.setAttribute</span>("<span class="attr">d1</span>", <span class="attr">d1</span>);</span></span><br><span class="line"><span class="tag">	<span class="attr">pageContext.setAttribute</span>("<span class="attr">d2</span>", <span class="attr">d2</span>);</span></span><br><span class="line"><span class="tag">%&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">fmt:formatNumber</span> <span class="attr">value</span>=<span class="string">"$&#123;d1 &#125;"</span> <span class="attr">pattern</span>=<span class="string">"0.00 "</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">fmt:formatNumber</span> <span class="attr">value</span>=<span class="string">"$&#123;d2 &#125;"</span> <span class="attr">pattern</span>=<span class="string">"#.## "</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">* pattern：0.00，表示小数不足两位时，使用0补足两位</span><br><span class="line">* pattern：#.##，表示小数不足两位时，有几位显示几位，不会补足</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">============================</span><br><span class="line">============================</span><br><span class="line">============================</span><br></pre></td></tr></table></figure>




</li>
</ol>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://chenzhiheng.cn/2017/09/09/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/node.js%E8%AE%A4%E7%9F%A5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Zhiheng Chen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈志恒的技术博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/09/09/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/node.js%E8%AE%A4%E7%9F%A5/" class="post-title-link" itemprop="url">node.js认知</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-09-09 10:27:00" itemprop="dateCreated datePublished" datetime="2017-09-09T10:27:00+08:00">2017-09-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-12 20:06:07" itemprop="dateModified" datetime="2020-03-12T20:06:07+08:00">2020-03-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web%E5%BC%80%E5%8F%91-czh-java-%E9%9D%9E%E6%A1%86%E6%9E%B6Web%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">web开发/czh_java/非框架Web技术</span>
                  </a>
                </span>
            </span>

          
            <span id="/2017/09/09/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/node.js%E8%AE%A4%E7%9F%A5/" class="post-meta-item leancloud_visitors" data-flag-title="node.js认知" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>2017年9月9日 下午10:27</p>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><ol>
<li>node.js我只是作为一个知识的补充，没有深入的学习。需要使用的话可以参考文末最后给出的两个链接，上面有详细的入门教程</li>
<li>node.js最有用的地方对我来说是，通过node.js让我了解的不同服务器脚本语言之间的比较，从事件机制和异步IO模型的角度去认知整个服务端。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NodeJS的作者说，他创造NodeJS的目的是为了实现高性能Web服务器，他首先看重的是事件机制和异步IO模型的优越性，而不是JS。但是他需要选择一种编程语言实现他的想法，这种编程语言不能自带IO功能，并且需要能良好支持事件机制。JS没有自带IO功能，天生就用于处理浏览器中的DOM事件，并且拥有一大群程序员，因此就成为了天然的选择。</span><br></pre></td></tr></table></figure>

<h2 id="通过node-js来了解整个web服务端面临的问题，以及部分解决方案"><a href="#通过node-js来了解整个web服务端面临的问题，以及部分解决方案" class="headerlink" title="通过node.js来了解整个web服务端面临的问题，以及部分解决方案"></a>通过node.js来了解整个web服务端面临的问题，以及部分解决方案</h2><p><a href="https://www.zhihu.com/question/33578075/answer/56951771" target="_blank" rel="noopener">Node.js是用来做什么的？ - 知乎</a><br><a href="http://blog.csdn.net/u011225629/article/details/47438393" target="_blank" rel="noopener">Node.js详细解析 - CSDN博客</a><br>这两篇文章说出了node.js在整个行业中的重要地位。</p>
<h2 id="node-js学习日记"><a href="#node-js学习日记" class="headerlink" title="node.js学习日记"></a>node.js学习日记</h2><ol>
<li>先说说我是怎么拐到node.js上面的。</li>
<li>我本来是是在学习javaWeb的MVC，我自然的就和ThinkPHP框架的CBD模式产生了联系，于是我就想再把自己对框架模式的知识面扩展一下。我找了一会，前面几篇写的我认为不好，当时突然我就看见了这篇<a href="https://github.com/livoras/blog/issues/11" target="_blank" rel="noopener">界面之下：还原真实的MV*模式 · Issue #11 · livoras/blog · GitHub</a>，我觉的这个人的水平可以，写的这篇文章也是言之有理，所以很是喜欢。</li>
<li>我先读完了一遍，心中还是有几个疑惑不懂得地方，毕竟自己知识有限，没有真正的见过使用这些模式的代码，于是就返回去把一些小的点努力思考了一下。其实这时候我知道这是很虚的，因为一个成熟的框架设计模式怎么能让我一下就能吸收了呢。于是我对自己提出了更高的要求—把作者给的源码也看看吧，我就得我js还可以，写不出来吧，看还是没问题的。于是我的噩梦就开始了。</li>
<li>我一开始真的以为就是js，还在不停的回想我总结的js的知识，尤其的面向对象的，但是心里总有说不出来的不舒服，我当时也没有太注意，只是翻来覆去的看，稍微懂点，但是也有很多不懂得地方（反过头来想，其实出现这种问题的原因就是js语言基础不好，这也是我以前说的，看源码的基础一定是你对语言有了比较深刻的了解之后才能做得），这时心中不断的提出问题，然后尝试给出答案，将我的猜测带入程序中去验证，最后就在不断地磨蹭当中，认为作者只是给了我们核心源码，他的调用啥的都有给，当时还在抱怨作者为啥这么懒。</li>
<li>本来分析到这也就差不多了，想mvc和mvp这两种模式我基本上时看懂了，但是对于其中的关键的观察者模式，我一直很疑惑，为啥我在view中就没有发现view是如何实现观察者模式的。我但猜测这是作者导入的那个库文件完成的。</li>
<li>我对自己说—走到这了不能放弃，把那个库文件也了解一下吧，看看他是不是来完成观察者模式的，验证一下自己的想法。这一查五雷轰顶，这是node.js的库文件，我把它当成js看了半天，天哪😲。我以前对node.js只是听说过，知道他可以代替php这些脚本语言，其他的啥都不知道了。</li>
<li>我这时竟然没有停下脚步，查了一下node.js手册<a href="http://www.runoob.com/nodejs/nodejs-tutorial.html" target="_blank" rel="noopener">Node.js 教程 | 菜鸟教程</a>，随便看了看他的安装过程，最通俗的理解—node.js是为js在服务器端运行的一个环境，那么岂不是说其实就是在服务器端使用js完成php能完成的功能吗。</li>
<li>说道php了，那可是我的老本行，我真的很想把node.js和php进行对比。兴趣来了，我看的就带劲了。边看他的手册，边回忆自己php的知识，不断的碰撞（下面有我的一下简单的对比）。这时我返回去看作者的代码，发现原来作者把整个项目目录都给了，上层中还有很多文件，我找到我一直想看的调用这三个对象的一个总文件mvc.js(model对象，view对象，controller)。就在这时我在纠结一个问题—-view对象中涉及到了对html标签的控制，我就很疑惑这个html文件到底在哪里，难道设node.js本身就能配置，放在了一个地方，view对象和这个html文件是通过node.js中的配置文件完成的吗？我然后在项目中翻来翻去，去找那个配置文件，没有找到，百度出来都是有关app.js（后来我才知道这是express框架的的），脑子中一篇混乱。无意间我在mvc.html文件中找到了文件的最后引用了mvc.js这个文件。我懂了—-就像前台引入jQuery.js的道理一样啊。</li>
<li>我然后把作者代码中的那几个node.js中的库文件查了查，了解了一下他们的用途，此时心中背堵着的感觉慢慢下去了。但是，我提出了一个新的问题——你现在是node.js这个专门的解析js的环境下运行的这段代码，那么当真正用户从客户端浏览器访问的时候，这些node.js环境下的库文件，直接给了浏览器他能像你引入jQuery.js一样下载到本地进行解析吗？<a href="https://zhidao.baidu.com/question/756541926934226924.html" target="_blank" rel="noopener">nodejs 怎样在浏览器中运行_百度知道</a>这里和我说的疑惑一样。</li>
</ol>
<h2 id="与php的简单对比（肤浅）"><a href="#与php的简单对比（肤浅）" class="headerlink" title="与php的简单对比（肤浅）"></a>与php的简单对比（肤浅）</h2><ol>
<li>node.js的服务器启动尽然是运行自己写的.js文件来启动</li>
<li>node.js中express框架中也有类似Echo的方法</li>
<li>每个页面.js文件是可以单独执行的和php一样</li>
<li>Express还结合了框架的效果如模板引擎</li>
<li>一个.js文件可以是一个js对象，就像一个.php文件可以是一个php类</li>
</ol>
<h2 id="我查过的一些资料"><a href="#我查过的一些资料" class="headerlink" title="我查过的一些资料"></a>我查过的一些资料</h2><p>重要的：<a href="http://nqdeng.github.io/7-days-nodejs/#1.1" target="_blank" rel="noopener">七天学会NodeJS</a><a href="http://www.runoob.com/nodejs/nodejs-express-framework.html" target="_blank" rel="noopener">Node.js Express 框架 | 菜鸟教程</a><br>次要的：<br><a href="http://blog.csdn.net/xqnode/article/details/60610885" target="_blank" rel="noopener">module.exports用法 - xqnode的博客        - CSDN博客</a><br><a href="http://www.jianshu.com/p/e4ed5c76117f" target="_blank" rel="noopener">eventEmitter总结 - 简书</a><br><a href="http://blog.csdn.net/z742182637/article/details/51655776" target="_blank" rel="noopener">Nodejs学习 2 — events事件处理EventEmitter - z742182637的博客        - CSDN博客</a><br><a href="http://blog.csdn.net/whqet/article/details/43263773" target="_blank" rel="noopener">10分钟快速学Handlebars - CSDN博客</a><br><a href="http://www.runoob.com/vue2/vue-template-syntax.html" target="_blank" rel="noopener">Vue.js 模板语法 | 菜鸟教程</a><br><a href="https://segmentfault.com/a/1190000006599500" target="_blank" rel="noopener">剖析Vue原理&amp;实现双向绑定MVVM - 前端足迹 - SegmentFault</a><br><a href="http://www.cnblogs.com/wrcold520/p/5505415.html" target="_blank" rel="noopener">Vue.js——轻量高效的MVVM框架（一、初识Vue.js） - DarkRanger - 博客园</a><br><a href="http://lib.csdn.net/article/nodejs/12154" target="_blank" rel="noopener">使用Node.js完成的第一个项目的实践总结 - Node.js知识库</a><br><a href="http://www.cnblogs.com/qieguo/p/5811988.html" target="_blank" rel="noopener">Handlebars 模板引擎之前后端用法 - 茄果 - 博客园</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://chenzhiheng.cn/2017/09/08/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/%E5%AF%BC%E5%85%A5%E5%88%AB%E4%BA%BA%E7%9A%84%E9%A1%B9%E7%9B%AE%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Zhiheng Chen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈志恒的技术博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/09/08/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/%E5%AF%BC%E5%85%A5%E5%88%AB%E4%BA%BA%E7%9A%84%E9%A1%B9%E7%9B%AE%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/" class="post-title-link" itemprop="url">导入别人的项目注意事项</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-09-08 10:38:00" itemprop="dateCreated datePublished" datetime="2017-09-08T10:38:00+08:00">2017-09-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-12 20:06:07" itemprop="dateModified" datetime="2020-03-12T20:06:07+08:00">2020-03-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web%E5%BC%80%E5%8F%91-czh-java-%E9%9D%9E%E6%A1%86%E6%9E%B6Web%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">web开发/czh_java/非框架Web技术</span>
                  </a>
                </span>
            </span>

          
            <span id="/2017/09/08/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/%E5%AF%BC%E5%85%A5%E5%88%AB%E4%BA%BA%E7%9A%84%E9%A1%B9%E7%9B%AE%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/" class="post-meta-item leancloud_visitors" data-flag-title="导入别人的项目注意事项" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>166</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>2017年9月8日 上午10:38</p>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>有以下几个步骤</p>
<ol>
<li>修改jdk版本</li>
<li>导入servlet-api.jar包，解决项目报错的现象</li>
<li>中文乱码</li>
</ol>
<h3 id="修改jdk版本"><a href="#修改jdk版本" class="headerlink" title="修改jdk版本"></a>修改jdk版本</h3><p><img src="/2017/09/08/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/%E5%AF%BC%E5%85%A5%E5%88%AB%E4%BA%BA%E7%9A%84%E9%A1%B9%E7%9B%AE%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/768D4382-328F-4A15-98D8-996FBE365138.png" alt><br><img src="/2017/09/08/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/%E5%AF%BC%E5%85%A5%E5%88%AB%E4%BA%BA%E7%9A%84%E9%A1%B9%E7%9B%AE%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/E833AF5E-6024-4FF7-A2F7-8C152E23C6E9.png" alt><br><img src="/2017/09/08/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/%E5%AF%BC%E5%85%A5%E5%88%AB%E4%BA%BA%E7%9A%84%E9%A1%B9%E7%9B%AE%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/E8F8AD83-0BD6-4820-9926-887C2554ADC7.png" alt></p>
<h3 id="导入servlet-pai-jar包"><a href="#导入servlet-pai-jar包" class="headerlink" title="导入servlet-pai.jar包"></a>导入servlet-pai.jar包</h3><p>注：这个包在tomcat中的lib路径中<br><img src="/2017/09/08/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/%E5%AF%BC%E5%85%A5%E5%88%AB%E4%BA%BA%E7%9A%84%E9%A1%B9%E7%9B%AE%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/03ACE4A6-984D-4374-92FA-7C583CC37223.png" alt><br><img src="/2017/09/08/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/%E5%AF%BC%E5%85%A5%E5%88%AB%E4%BA%BA%E7%9A%84%E9%A1%B9%E7%9B%AE%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/1835B117-B7B3-4BF2-B5CA-98EAE7F4F7D3.png" alt><br><img src="/2017/09/08/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/%E5%AF%BC%E5%85%A5%E5%88%AB%E4%BA%BA%E7%9A%84%E9%A1%B9%E7%9B%AE%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/840ACC6D-E0FD-43F0-9290-DE058A061726.png" alt><br><img src="/2017/09/08/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/%E5%AF%BC%E5%85%A5%E5%88%AB%E4%BA%BA%E7%9A%84%E9%A1%B9%E7%9B%AE%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/5F78D141-F4C5-4486-861C-FAC3C3E44F6B.png" alt><br><img src="/2017/09/08/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/%E5%AF%BC%E5%85%A5%E5%88%AB%E4%BA%BA%E7%9A%84%E9%A1%B9%E7%9B%AE%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/361FACFE-C793-4808-A96E-0D0E769C4325.png" alt></p>
<h3 id="中文乱码"><a href="#中文乱码" class="headerlink" title="中文乱码"></a>中文乱码</h3><p>有的文件可以通过修改字符集gbk来更改，但是也有些不行，就像下面的<br>这时只能从外面用记事本打开，然后复制进来<br><img src="/2017/09/08/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/%E5%AF%BC%E5%85%A5%E5%88%AB%E4%BA%BA%E7%9A%84%E9%A1%B9%E7%9B%AE%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/EDCE7B2E-943D-4959-BC76-FE365EF6CED0.png" alt></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://chenzhiheng.cn/2017/09/08/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/web%E6%96%B9%E9%9D%A2%E4%BB%A3%E7%A0%81%E6%9E%B6%E6%9E%84%E6%A8%A1%E5%BC%8F%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Zhiheng Chen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈志恒的技术博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/09/08/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/web%E6%96%B9%E9%9D%A2%E4%BB%A3%E7%A0%81%E6%9E%B6%E6%9E%84%E6%A8%A1%E5%BC%8F%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">web方面代码架构模式总结</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-09-08 05:21:00" itemprop="dateCreated datePublished" datetime="2017-09-08T05:21:00+08:00">2017-09-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-12 20:06:07" itemprop="dateModified" datetime="2020-03-12T20:06:07+08:00">2020-03-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web%E5%BC%80%E5%8F%91-czh-java-%E9%9D%9E%E6%A1%86%E6%9E%B6Web%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">web开发/czh_java/非框架Web技术</span>
                  </a>
                </span>
            </span>

          
            <span id="/2017/09/08/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/web%E6%96%B9%E9%9D%A2%E4%BB%A3%E7%A0%81%E6%9E%B6%E6%9E%84%E6%A8%A1%E5%BC%8F%E6%80%BB%E7%BB%93/" class="post-meta-item leancloud_visitors" data-flag-title="web方面代码架构模式总结" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.4k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>2017年9月8日 下午5:21</p>
<h2 id="项目的核心代码组织形式"><a href="#项目的核心代码组织形式" class="headerlink" title="项目的核心代码组织形式"></a>项目的核心代码组织形式</h2><p><strong>CBD</strong>使用配置文件，适合需要大量订制的项目，如框架<br><strong>MVC</strong>适合也业务流，mvc就像一个运输道，中间运输的是数据，数据源是数据库</p>
<p>CBD和MVC都是一种组织代码（组织人员）的方式，只不过他们用不同的用途，没有好坏，只有适合不适合。</p>
<h2 id="在数据处理传递的过程中，变更逻辑操作语言"><a href="#在数据处理传递的过程中，变更逻辑操作语言" class="headerlink" title="在数据处理传递的过程中，变更逻辑操作语言"></a>在数据处理传递的过程中，变更逻辑操作语言</h2><ol>
<li>上面说到了数据的处理，数据除了在服务层和控制层（公司内部）进行各种边传递边处理外，那么去了页面层（公司外部门面）如何控制呢?</li>
<li>只有真正的过程型的语言（面向对象语言）才可以方便的控制数据操作，如果通过html这种标签语言，他是无法写逻辑的，所以也就无法有效的控制页面中的数据以及其他动态的东西。</li>
<li>这时有两种解决方式。</li>
<li>一种通过jsp_php，通过这种脚本语言实现html和jsp_php的混写，至于如何处理这种混乱的情况则交给了服务器去完成。</li>
<li>还有一种方式是通过js这种脚本语言，与上面不同的是，即使他也是一种脚本语言，因为处理js的是浏览器，不是服务器，js不能实现与html的混写，他是控制html的。</li>
<li>那么，数据通过java从公司内部传出，然后交到外部页面就有两种处理方式，如果选用jsp/php这种脚本语言，则可以直接逻辑控制传来的数据，而如果是js来控制，那么由于js只能控制html，不能直接操作jsp中的数据，那么中间的过渡就是html。jsp将数据给了html，让html暂时保存，然后js从html中取出数据，然后再进行处理。</li>
</ol>
<p>路由规则：servlet其实就是实现了一个路由规则，<br>然后还提供了取值方法和三个作用域对象，为了方便数据的保存。</p>
<p>来源：<br><a href="https://segmentfault.com/a/1190000006145707" target="_blank" rel="noopener">浅谈MV*模式 - Sam君 - SegmentFault</a><br><a href="https://github.com/livoras/blog/issues/11" target="_blank" rel="noopener">界面之下：还原真实的MV*模式 · Issue #11 · livoras/blog · GitHub</a></p>
<h2 id="在读的过程中我的几点疑惑以及我的解决："><a href="#在读的过程中我的几点疑惑以及我的解决：" class="headerlink" title="在读的过程中我的几点疑惑以及我的解决："></a>在读的过程中我的几点疑惑以及我的解决：</h2><ol>
<li>观察者模式忘了：<ol>
<li>全局搜索，找到<a href="bear://x-callback-url/open-note?id=980FECF7-E810-49AC-805A-DC657DBD0DD8-2779-000009EC91B665E4">设计模式</a>去看我的理解</li>
<li>其实：观察者模式是策略模式的改进，但是，我们可以宽泛的将这种关系理解成雇员和雇主的关系。<strong>每一个箭头都是对象之间的代表一次调用</strong>，被调用的就是雇员，另一个就是雇主，比如说在第一类mvc中model就是雇主。</li>
</ol>
</li>
<li>在说第一类MVC缺点时，view是无法复用的：<ol>
<li>由于依靠雇主-雇员模式，这是一种强依赖，既然view依赖于model，那么view当然不能自己出去单干了</li>
<li>这点可以和MVP模式对比，MVP模式的优点就是view可以复用，因为view中不用调用model对象来实现功能，自己本身就是功能的实现着，只不过在MVP中提供了接口来作为一个功能开始执行的触发。从view的角度去分析，我不管谁调用我的，只要你能正确的调用我的接口就可以，那么这不就实现了复用了吗。</li>
</ol>
</li>
<li>对view的理解：<ol>
<li>View不要仅仅的理解成平常见得html页面，其实一个system.out.print都可以算是一个view（纯java）</li>
<li><strong>我在读这篇文章的时候，就默认view就是html界面，给我造成了很大的理解上的障碍</strong>，例如在这里<strong>view这里抽象组合为了一个js对象</strong></li>
</ol>
</li>
<li>有很多模式中关键的实现步骤，并不是作者写的，而是作者直接调用了现成的库去完成</li>
<li>我们为啥要使用这种模式去组织代码，我用jQuery就可以完成的功能<ol>
<li>这个原因很多：在web中mvc模式可以实现把视图层拿出来，这样分开步骤有利于开发人员有<strong>清晰的思路</strong>，而且可以对dao层<strong>代码进行复用</strong>。像我的权限系统，就是为了能有一个<strong>良好的扩展性</strong>。还有的为的是看起来方便，有的是从性能角度等等很多很多原因</li>
</ol>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://chenzhiheng.cn/2017/09/07/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/servlet%E4%B8%89%E4%B8%AA%E4%BD%9C%E7%94%A8%E5%9F%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Zhiheng Chen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈志恒的技术博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/09/07/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/servlet%E4%B8%89%E4%B8%AA%E4%BD%9C%E7%94%A8%E5%9F%9F/" class="post-title-link" itemprop="url">servlet三个作用域</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-09-07 11:07:00" itemprop="dateCreated datePublished" datetime="2017-09-07T11:07:00+08:00">2017-09-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-12 20:06:07" itemprop="dateModified" datetime="2020-03-12T20:06:07+08:00">2020-03-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web%E5%BC%80%E5%8F%91-czh-java-%E9%9D%9E%E6%A1%86%E6%9E%B6Web%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">web开发/czh_java/非框架Web技术</span>
                  </a>
                </span>
            </span>

          
            <span id="/2017/09/07/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/servlet%E4%B8%89%E4%B8%AA%E4%BD%9C%E7%94%A8%E5%9F%9F/" class="post-meta-item leancloud_visitors" data-flag-title="servlet三个作用域" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>2017年9月7日 上午11:07</p>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><ol>
<li>Servlet提供三个作用域<strong>（变量池）</strong>，用于让方便用户存储变量</li>
<li>关键是要了解这三个作用域（变量池），<strong>何时开始，何时释放</strong>，<strong>不要自己需要这个池子里的变量时，但是池子已经释放了</strong></li>
<li>附录中有使用的源码</li>
</ol>
<h2 id="servlet的作用域"><a href="#servlet的作用域" class="headerlink" title="servlet的作用域"></a>servlet的作用域</h2><p>概述：每个作用域对象都相应的代表一个域容器   其中的信息在本域中共享。</p>
<ol>
<li><strong>request作用域</strong>   作用范围：一次请求<ol>
<li>当前request池子结束标志：<ol>
<li>用户刷新了一下当前页面，原来的request池子就释放了，产生了一个新的request池子</li>
</ol>
</li>
<li>如果使用在service中使用请求转发的方式，那么依然算一次请求，request池子还在</li>
</ol>
</li>
<li><strong>session作用域</strong>   作用范围：一次会话<ol>
<li>session池子结束标志<ol>
<li>用户把浏览器关了</li>
<li>用户换了一个浏览器登陆    </li>
</ol>
</li>
</ol>
</li>
<li><strong>application作用域</strong>     作用范围：一次服务周期<ol>
<li>application结束标志<ol>
<li>服务器管理员将tomcat服务器重启了</li>
</ol>
</li>
</ol>
</li>
<li>application作用域 &gt; session作用域 &gt; request作用域<ol>
<li><strong>小的作用域存在，大的作用域一定存在</strong></li>
</ol>
</li>
</ol>
<h2 id="附录："><a href="#附录：" class="headerlink" title="附录："></a>附录：</h2><p>MyServlet5 extends HttpServlet：给池子里赋值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.shanxi.weixin.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.GenericServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyServlet5</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 接收所有请求的方法</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse res)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">		HttpSession session = req.getSession();</span><br><span class="line">		ServletContext application = req.getServletContext();</span><br><span class="line">		</span><br><span class="line">		req.setAttribute(<span class="string">"name"</span>,<span class="string">"mike"</span>);</span><br><span class="line">		session.setAttribute(<span class="string">"name"</span>,<span class="string">"john"</span>);</span><br><span class="line">		application.setAttribute(<span class="string">"name"</span>,<span class="string">"rose"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//req.getRequestDispatcher("myServlet6").forward(req, res);</span></span><br><span class="line">		res.sendRedirect(<span class="string">"/servletDemo/myServlet6"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>MyServlet6 extends HttpServlet：从池子里取值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.shanxi.weixin.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.GenericServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyServlet6</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 接收所有请求的方法</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse res)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">		HttpSession session = req.getSession();</span><br><span class="line">		ServletContext application = req.getServletContext();</span><br><span class="line">		System.out.println(req.getAttribute(<span class="string">"name"</span>));</span><br><span class="line">		System.out.println(session.getAttribute(<span class="string">"name"</span>));</span><br><span class="line">		System.out.println(application.getAttribute(<span class="string">"name"</span>));</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://chenzhiheng.cn/2017/09/07/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/tomcat%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Zhiheng Chen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈志恒的技术博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/09/07/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/tomcat%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" class="post-title-link" itemprop="url">tomcat源码分析</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-09-07 10:39:00" itemprop="dateCreated datePublished" datetime="2017-09-07T10:39:00+08:00">2017-09-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-12 20:06:07" itemprop="dateModified" datetime="2020-03-12T20:06:07+08:00">2020-03-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web%E5%BC%80%E5%8F%91-czh-java-%E9%9D%9E%E6%A1%86%E6%9E%B6Web%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">web开发/czh_java/非框架Web技术</span>
                  </a>
                </span>
            </span>

          
            <span id="/2017/09/07/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/tomcat%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" class="post-meta-item leancloud_visitors" data-flag-title="tomcat源码分析" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>326</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>2017年9月7日 上午10:39</p>
<p><a href="http://t5crambing.iteye.com/category/288570" target="_blank" rel="noopener">Rambing的博客 - Tomcat7分类文章列表 - ITeye技术网站</a><br><a href="http://www.cnblogs.com/felixpan/p/4910584.html" target="_blank" rel="noopener">Tomcat源码分析(一) - Crazy兔子 - 博客园</a><br><a href="http://blog.csdn.net/dlf123321/article/category/2622245/1" target="_blank" rel="noopener">tomcat - 程序员小董的专栏        - CSDN博客</a><br><a href="http://www.jdon.com/42708" target="_blank" rel="noopener">五年java人的一点感悟+tomcat源码</a><br><a href="https://www.zhihu.com/question/19910358" target="_blank" rel="noopener">如何阅读Tomcat源代码？ - 知乎</a></p>
<p><a href="http://blog.csdn.net/wangchengsi/article/details/3953054" target="_blank" rel="noopener">推荐一本好书《How Tomcat Works》 - 王程斯的专栏        - CSDN博客</a><br><a href="http://blog.csdn.net/column/details/howtomcatworks.html" target="_blank" rel="noopener">专栏：How Tomcat Works笔记 - CSDN博客</a><br><a href="http://www.cnblogs.com/sunshine-2015/category/802990.html" target="_blank" rel="noopener">tomcat源码分析 + spring源码分析 +rocketMQ源码分析</a></p>
<p><a href="http://www.jianshu.com/p/bf992bf066c3" target="_blank" rel="noopener">tomcat源码学习-环境搭建 - 简书</a><br><a href="http://blog.csdn.net/heliangb46/article/details/70171783" target="_blank" rel="noopener">简单快速搭建tomcat可运行源码 - 赫双炎        - CSDN博客</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzI3MTEwODc5Ng==&mid=402994558&idx=1&sn=3b87afca562a31df396b7743a20e38f0#rd" target="_blank" rel="noopener">怎样调试Tomcat源码</a></p>
<p><a href="how-tomcat-works%E4%B8%AD%E6%96%87%E7%89%88.pdf">how-tomcat-works中文版.pdf</a><br><a href="Tomcat%E6%BA%90%E7%A0%81%E7%A0%94%E7%A9%B6.pdf">Tomcat源码研究.pdf</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://chenzhiheng.cn/2017/09/07/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/Servlet%E4%B8%8A%E4%B8%8B%E6%96%87%E5%AF%B9%E8%B1%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Zhiheng Chen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈志恒的技术博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/09/07/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/Servlet%E4%B8%8A%E4%B8%8B%E6%96%87%E5%AF%B9%E8%B1%A1/" class="post-title-link" itemprop="url">Servlet上下文对象</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-09-07 08:58:00" itemprop="dateCreated datePublished" datetime="2017-09-07T08:58:00+08:00">2017-09-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-12 20:06:07" itemprop="dateModified" datetime="2020-03-12T20:06:07+08:00">2020-03-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web%E5%BC%80%E5%8F%91-czh-java-%E9%9D%9E%E6%A1%86%E6%9E%B6Web%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">web开发/czh_java/非框架Web技术</span>
                  </a>
                </span>
            </span>

          
            <span id="/2017/09/07/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/Servlet%E4%B8%8A%E4%B8%8B%E6%96%87%E5%AF%B9%E8%B1%A1/" class="post-meta-item leancloud_visitors" data-flag-title="Servlet上下文对象" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>2017年9月7日 上午8:58</p>
<h2 id="上下文对象的作用："><a href="#上下文对象的作用：" class="headerlink" title="上下文对象的作用："></a>上下文对象的作用：</h2><p>获取web.xml的 <strong><context-param></context-param></strong>标签中的值，<context-param>标签的作用域是所有的servlet类文件，这点与一个具体servlet类对应的<servlet>标签下的<init-param>标签，作用域是不同的，可以将<context-param>标签的值理<strong>解成一个全局变量</strong></context-param></init-param></servlet></context-param></p>
<h2 id="获取方法："><a href="#获取方法：" class="headerlink" title="获取方法："></a>获取方法：</h2><ol>
<li>继承HttpServlet的类中：在service()方法中使用getServletContext()方法来获得<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 接收所有请求的方法</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse res)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">		<span class="comment">//servlet 四大作用域对象之一。他是servlet上下文对象</span></span><br><span class="line">		ServletContext application = getServletContext();</span><br><span class="line">		<span class="comment">//getInitParameter(java.lang.String name)</span></span><br><span class="line">		String value = application.getInitParameter(<span class="string">"param-name"</span>);</span><br><span class="line">		System.out.println(value);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>实现Servlet接口的类中：通过ServletConfig对象的getServletContext()方法来获得上下文对象<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	 *    servlet 初始化方法</span></span><br><span class="line"><span class="comment">	 *    servlet生命周期方法之一</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(ServletConfig arg0)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"init  222 ..."</span>);</span><br><span class="line">		String value = arg0.getServletContext().getInitParameter(<span class="string">"param-name"</span>);</span><br><span class="line">		System.out.println(<span class="string">"  222 ...  "</span>+value);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ol>
<h2 id="在web-xml中的配置"><a href="#在web-xml中的配置" class="headerlink" title="在web.xml中的配置"></a>在web.xml中的配置</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="attr">xmlns</span>=<span class="string">"http://java.sun.com/xml/ns/javaee"</span> <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"</span> <span class="attr">metadata-complete</span>=<span class="string">"true"</span> <span class="attr">version</span>=<span class="string">"3.0"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">welcome-file-list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">welcome-file</span>&gt;</span>index.html<span class="tag">&lt;/<span class="name">welcome-file</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">welcome-file</span>&gt;</span>index.jsp<span class="tag">&lt;/<span class="name">welcome-file</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">welcome-file-list</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">param-name</span>&gt;</span>param-name<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">param-value</span>&gt;</span>param-value<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  .....</span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://chenzhiheng.cn/2017/09/07/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/Servlet%E5%AE%9E%E7%8E%B0%E7%B1%BBHttpServlet%E7%9A%84%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Zhiheng Chen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈志恒的技术博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/09/07/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/Servlet%E5%AE%9E%E7%8E%B0%E7%B1%BBHttpServlet%E7%9A%84%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">Servlet实现类HttpServlet的使用</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-09-07 08:40:00" itemprop="dateCreated datePublished" datetime="2017-09-07T08:40:00+08:00">2017-09-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-12 20:06:07" itemprop="dateModified" datetime="2020-03-12T20:06:07+08:00">2020-03-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web%E5%BC%80%E5%8F%91-czh-java-%E9%9D%9E%E6%A1%86%E6%9E%B6Web%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">web开发/czh_java/非框架Web技术</span>
                  </a>
                </span>
            </span>

          
            <span id="/2017/09/07/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/Servlet%E5%AE%9E%E7%8E%B0%E7%B1%BBHttpServlet%E7%9A%84%E4%BD%BF%E7%94%A8/" class="post-meta-item leancloud_visitors" data-flag-title="Servlet实现类HttpServlet的使用" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>3.8k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>3 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>2017年9月7日 上午8:40</p>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p><strong>这个类的作用是处理响应和请求</strong><br>主要是是在service()方法中实现<br>最后附录三种有源码</p>
<p><img src="/2017/09/07/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/Servlet%E5%AE%9E%E7%8E%B0%E7%B1%BBHttpServlet%E7%9A%84%E4%BD%BF%E7%94%A8/C69CBD21-30A9-4355-945D-D4BCBA5B3358.png" alt></p>
<hr>
<h2 id="接受请求方式"><a href="#接受请求方式" class="headerlink" title="接受请求方式"></a>接受请求方式</h2><p><img src="/2017/09/07/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/Servlet%E5%AE%9E%E7%8E%B0%E7%B1%BBHttpServlet%E7%9A%84%E4%BD%BF%E7%94%A8/20EC27B9-3C01-4B21-B8F4-B0B238D79A46.png" alt><br>其中主要使用</p>
<ol>
<li>doGet:接受get请求</li>
<li>doPost:接受post请求</li>
<li>service：接受所有请求 get+ post</li>
</ol>
<p> MyServlet3.class 继承自httpServlet，实现了三个接受请求的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.shanxi.weixin.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.GenericServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyServlet3</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 接收所有请求的方法</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse res)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">		<span class="comment">//servlet 四大作用域对象之一。他是servlet上下文对象</span></span><br><span class="line">		ServletContext application = getServletContext();</span><br><span class="line">		<span class="comment">//getInitParameter(java.lang.String name)</span></span><br><span class="line">		String value = application.getInitParameter(<span class="string">"param-name"</span>);</span><br><span class="line">		System.out.println(value);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//	/*</span></span><br><span class="line"><span class="comment">//	 * 接收Get请求的方法</span></span><br><span class="line"><span class="comment">//	 */</span></span><br><span class="line"><span class="comment">//	@Override</span></span><br><span class="line"><span class="comment">//	protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span></span><br><span class="line"><span class="comment">//		System.out.println("doGet...");</span></span><br><span class="line"><span class="comment">//	&#125;</span></span><br><span class="line"><span class="comment">//	/*</span></span><br><span class="line"><span class="comment">//	 * 接收Post请求的方法</span></span><br><span class="line"><span class="comment">//	 */</span></span><br><span class="line"><span class="comment">//	@Override</span></span><br><span class="line"><span class="comment">//	protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span></span><br><span class="line"><span class="comment">//		System.out.println("doPost...");</span></span><br><span class="line"><span class="comment">//	&#125;</span></span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="两种响应方式：附录代码"><a href="#两种响应方式：附录代码" class="headerlink" title="两种响应方式：附录代码"></a>两种响应方式：附录代码</h2><h3 id="请求转发："><a href="#请求转发：" class="headerlink" title="请求转发："></a>请求转发：</h3><p>替换方式 xml 404<br><strong>情景理解</strong>：</p>
<ol>
<li>老公的手机屏幕亮了，我一看是一条短信，随便一看，发现语言特别暧昧，于是我猜测是小三。于是，我果断的拿起手机，回了一条短信“你在…宾馆等我，我马上过去”。然后把这个短信删了，我就出发了。小三不知道是我，所以她高兴的来了。我一见它就是一顿暴打，爽！</li>
<li>这里的小三就是浏览器，她找的其实是我老公，但是最后他的请求让我处理了。重要的是她从头到尾不知道，<strong>这就是请求转发</strong><br>转发</li>
</ol>
<p><strong>实现</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">req.getRequestDispatcher(<span class="string">"/index.jsp"</span>).forward(req,res);</span><br></pre></td></tr></table></figure>
<p>注：这里的路径直接替代web.xml中的请求文件</p>
<h3 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h3><ol>
<li>重定向是服务器对客户端响应了本次请求，响应状态吗是302，客户端接收到响应码之后，直接再次发送一个新的请求到重定向的location上。（不受用户控制）</li>
<li>重定向实际上是<strong>两次请求</strong></li>
</ol>
<p><strong>实现1</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res.sendRedirect(<span class="string">"/servletDemo/index.jsp"</span>);</span><br></pre></td></tr></table></figure>
<p>注：这里要写从根路径开始<br><strong>实现2</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">response.setStatus(<span class="number">302</span>);</span><br><span class="line">response.setHeader(<span class="string">"location"</span>, <span class="string">"/ResponseDemo/ResponseDemo13"</span>);</span><br></pre></td></tr></table></figure>
<p>实现1是实现2的封装<br>参考：<a href="http://www.cnblogs.com/zhanghaoliang/p/5620815.html" target="_blank" rel="noopener">Servlet实现重定向的两种方式 - 张昊亮 - 博客园</a></p>
<hr>
<h2 id="如何处理get请求的乱码"><a href="#如何处理get请求的乱码" class="headerlink" title="如何处理get请求的乱码"></a>如何处理get请求的乱码</h2><p><img src="/2017/09/07/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/Servlet%E5%AE%9E%E7%8E%B0%E7%B1%BBHttpServlet%E7%9A%84%E4%BD%BF%E7%94%A8/31BBED1C-885B-4693-A635-EA79584FB8EA.png" alt><br><strong>解决方法</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String name = req.getParameter(<span class="string">"name"</span>);</span><br><span class="line"><span class="keyword">byte</span>[] bytes = name.getBytes(<span class="string">"iso-8859-1"</span>);</span><br><span class="line">name = <span class="keyword">new</span> String(bytes, <span class="string">"utf-8"</span>);</span><br><span class="line">System.out.println(name);</span><br></pre></td></tr></table></figure>
<p><strong>步骤解析：</strong></p>
<ol>
<li>获取url中的参数保存在name中，此时name输出是乱码</li>
<li>所以，我们把字符串类型的name转换成字节型保存在byte[]数组中，这种最原始的方式</li>
<li>然后对byte[]数组重新选择格式进行解码</li>
</ol>
<p><strong>注</strong>：默认浏览器的编码格式是iso-8859-1，要转换成的格式是我们当前项目的格式，这里是utf-8</p>
<hr>
<p>附录一：<br><code>res.sendError(404,&quot;你请求的资源在我这，我就不让你看！&quot;);</code><br><img src="/2017/09/07/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/Servlet%E5%AE%9E%E7%8E%B0%E7%B1%BBHttpServlet%E7%9A%84%E4%BD%BF%E7%94%A8/C2CCDCA4-718D-4079-91C8-225A0686B2E4.png" alt></p>
<p>附录二：<br>当一下两种相应方式同时存在时，会报错</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">req.getRequestDispatcher(<span class="string">"/index.jsp"</span>).forward(req,res);</span><br><span class="line">res.sendRedirect(<span class="string">"/servletDemo/index.jsp"</span>);</span><br></pre></td></tr></table></figure>
<p><img src="/2017/09/07/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/Servlet%E5%AE%9E%E7%8E%B0%E7%B1%BBHttpServlet%E7%9A%84%E4%BD%BF%E7%94%A8/B382E23C-3C59-4029-AB47-0B7AF2C2414D.png" alt></p>
<p>附录三：public class MyServlet4 extends HttpServlet完整源码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.shanxi.weixin.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.GenericServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyServlet4</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 接收所有请求的方法</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse res)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		 * HttpServletRequest     	请求对象</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		String path = req.getContextPath();</span><br><span class="line">		System.out.println(path);</span><br><span class="line">		String requestURI = req.getRequestURI();</span><br><span class="line">		System.out.println(requestURI);</span><br><span class="line">		Enumeration&lt;String&gt; names = req.getParameterNames();</span><br><span class="line">		String name = req.getParameter(<span class="string">"name"</span>);</span><br><span class="line">		System.out.println(name);</span><br><span class="line">		<span class="keyword">byte</span>[] bytes = name.getBytes(<span class="string">"iso-8859-1"</span>);</span><br><span class="line">		name = <span class="keyword">new</span> String(bytes, <span class="string">"utf-8"</span>);</span><br><span class="line">		System.out.println(name);</span><br><span class="line"><span class="comment">//		while(names.hasMoreElements())&#123;</span></span><br><span class="line"><span class="comment">//			String name = names.nextElement();</span></span><br><span class="line"><span class="comment">//			System.out.println(name+"    "+req.getParameter(name));</span></span><br><span class="line"><span class="comment">//		&#125;</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//服务器响应客户端的两种响应方式：     请求转发       重定向</span></span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		 * 请求转发实际上是一次请求在进行传递</span></span><br><span class="line"><span class="comment">		 * 重定向是服务器对客户端响应了本次请求，响应状态吗是302，客户端接收到响应码之后，直接再次发送一个新的请求到重定向的location上。（不受用户控制）</span></span><br><span class="line"><span class="comment">		 * 重定向实际上是两次请求</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		<span class="comment">//req.getRequestDispatcher("/index.jsp").forward(req,res);</span></span><br><span class="line">		<span class="comment">//res.sendRedirect("/servletDemo/index.jsp");</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		 * HttpServletResponse		响应对象</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		res.sendError(<span class="number">404</span>,<span class="string">"你请求的资源在我这，我就不让你看！"</span>);</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://chenzhiheng.cn/2017/09/07/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/JSP%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Zhiheng Chen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈志恒的技术博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/09/07/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/JSP%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/" class="post-title-link" itemprop="url">JSP基本语法</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-09-07 03:47:00" itemprop="dateCreated datePublished" datetime="2017-09-07T03:47:00+08:00">2017-09-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-12 20:06:07" itemprop="dateModified" datetime="2020-03-12T20:06:07+08:00">2020-03-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web%E5%BC%80%E5%8F%91-czh-java-%E9%9D%9E%E6%A1%86%E6%9E%B6Web%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">web开发/czh_java/非框架Web技术</span>
                  </a>
                </span>
            </span>

          
            <span id="/2017/09/07/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/JSP%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/" class="post-meta-item leancloud_visitors" data-flag-title="JSP基本语法" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.3k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>2017年9月7日 下午3:47</p>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>Jsp就是在html中添加java语言的一种技术，和php一样，但是我感觉php一个include 一个echo就搞定的全部的事情，而这里的jsp像下面弄出那么多东西，真是麻烦的要死，而且其中的jsp语法基本上用java语言就能够代替，jsp只是给了另一种实现方式，既然这样，能用java就不用用jsp，能减轻自己得去记忆那么多jsp标签的作用，这下只记得&lt;%%&gt;中可以写java语法就行了<br>注：jsp最后会被tomcat编译成servlet文件（.java），然后在编译成.class文件让tomcat执行</p>
<hr>
<h2 id="jsp"><a href="#jsp" class="headerlink" title="jsp"></a>jsp</h2><ol>
<li>两种注释</li>
<li>三种脚本元素</li>
<li>三种指令</li>
<li>七个动作<ol>
<li>forward：请求转发</li>
<li>getProperty :直接就输出了</li>
<li>Include：过滤多余的page命令   包含内容一般都是纯文本</li>
</ol>
</li>
<li>九个内置对象<ol>
<li>page：相当于this  当前页面的引用</li>
<li>out：<ol>
<li>out.println(“<font size="7">abc&lt;./font&gt;”);这引号中的内容是会被解析的</font></li>
</ol>
</li>
<li>pageContent :<ol>
<li>可以获取其他八个page对象</li>
<li>是一个页面的池子</li>
</ol>
</li>
</ol>
</li>
</ol>
<hr>
<h2 id="javaBean"><a href="#javaBean" class="headerlink" title="javaBean:"></a>javaBean:</h2><ol>
<li><p>基础的作用就是导入外部类进入jsp中</p>
</li>
<li><p>Javabean对外部类有严格的要求</p>
</li>
<li><p>有两种引入和使用方法</p>
</li>
<li><p>.class 文件名不能跟class后缀，但是默认的就是导入.class文件</p>
</li>
<li><p>参考:<a href="http://blog.csdn.net/joywy/article/details/7773503" target="_blank" rel="noopener">JavaBean简介及使用 - Joywy的专栏        - CSDN博客</a></p>
</li>
</ol>
<hr>
<h2 id="exception对象的使用"><a href="#exception对象的使用" class="headerlink" title="exception对象的使用"></a>exception对象的使用</h2><ol>
<li>工作过程<ol>
<li>不用写重定向或者请求转发的跳转语句，他会直接找到当前页面&lt;%page errorPage=“errrorpage路径”%&gt;中声明的文件，并且这个路径对应的错误页面设置了&lt;%page isErrorPage=true”%&gt;，那么，在错误页面就可以使用exception对象方法来输出</li>
<li>这个跳转的过程是自动的请求转发实现的</li>
</ol>
</li>
<li>完整的例子<ol>
<li><a href="http://blog.csdn.net/u010142437/article/details/56670616" target="_blank" rel="noopener">JSP获取异常信息的exception对象 - 孤云博客</a></li>
</ol>
</li>
<li>限制：<ol>
<li>只能对于500的错误进行自动的处理，其他额4是没有办法处理的</li>
</ol>
</li>
<li>解决方式：web.xml <ol>
<li>这时就不用在引起异常的页面中添加&lt;%page errorPage=“errrorpage路径”%&gt;，</li>
<li>特别的，当用IE打开错误页面时，是不会跳到对应的错误页面</li>
<li><a href="http://blog.csdn.net/bao19901210/article/details/23370407" target="_blank" rel="noopener">web.xml配置错误页面，及输出错误信息</a></li>
</ol>
</li>
</ol>
<hr>
<h2 id="tomcat将jsp编译成servlet"><a href="#tomcat将jsp编译成servlet" class="headerlink" title="tomcat将jsp编译成servlet"></a>tomcat将jsp编译成servlet</h2><p><img src="/2017/09/07/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/JSP%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/B48A34DC-1F5A-48CD-A7ED-1B5676DD815E.png" alt><br>Work_Catalina_localhost 路径下就是编译产生的文件<br><img src="/2017/09/07/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/JSP%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/B0569245-53D0-46FA-B5C8-842472EB0763.png" alt><br>这里的demo_jsp.java 就是jsp编译产生的java文件，然后java文件再产生demo.jsp.class二进制文件。<br>用这个二进制文件进行执行<br><img src="/2017/09/07/web%E5%BC%80%E5%8F%91/czh_java/%E9%9D%9E%E6%A1%86%E6%9E%B6web%E6%8A%80%E6%9C%AF/JSP%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/8489F656-0900-4A87-B77F-E89626A69667.png" alt><br>编译jsp产生的demo_jsp.java中可以看到实现了HttpJspPage接口，而这个HttpJspPage接口的超级接口有servlet接口，这就说明了demo_jsp.java其实就是一个servlet（jsp就是一个servlet）<br><a href="http://lixh1986.iteye.com/blog/1757126" target="_blank" rel="noopener">out.print和out.write -  - ITeye博客</a></p>
<p>返回是object对象，要.toString()进行类型转换<br>null.toString()错<br>多了一个当前页面</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/108/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/108/">108</a><span class="page-number current">109</span><a class="page-number" href="/page/110/">110</a><span class="space">&hellip;</span><a class="page-number" href="/page/119/">119</a><a class="extend next" rel="next" href="/page/110/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Zhiheng Chen</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">1189</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">98</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Zhiheng Chen</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    <span title="站点总字数">1.2m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">18:55</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.7.1
  </div>

        






  <script>
  function leancloudSelector(url) {
    url = encodeURI(url);
    return document.getElementById(url).querySelector('.leancloud-visitors-count');
  }
  if (CONFIG.page.isPost) {
    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.getAttribute('id'));
      var title = visitors.getAttribute('data-flag-title');

      Counter('get', `/classes/Counter?where=${JSON.stringify({ url })}`)
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .then(response => response.json())
              .then(() => {
                leancloudSelector(url).innerText = counter.time + 1;
              })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              })
          } else {
              Counter('post', '/classes/Counter', { title: title, url: url, time: 1 })
                .then(response => response.json())
                .then(() => {
                  leancloudSelector(url).innerText = 1;
                })
                .catch(error => {
                  console.error('Failed to create', error);
                });
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }
  } else {
    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.getAttribute('id'));
      });

      Counter('get', `/classes/Counter?where=${JSON.stringify({ url: { '$in': entries } })}`)
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length === 0) {
            document.querySelectorAll('.leancloud_visitors .leancloud-visitors-count').forEach(element => {
              element.innerText = 0;
            });
            return;
          }
          for (let item of results) {
            let { url, time } = item;
            leancloudSelector(url).innerText = time;
          }
          for (let url of entries) {
            var element = leancloudSelector(url);
            if (element.innerText == '') {
              element.innerText = 0;
            }
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }
  }

  fetch('https://app-router.leancloud.cn/2/route?appId=QiM1vjQ7SAoirKD4qY57L82O-gzGzoHsz')
    .then(response => response.json())
    .then(({ api_server }) => {
      var Counter = (method, url, data) => {
        return fetch(`https://${api_server}/1.1${url}`, {
          method: method,
          headers: {
            'X-LC-Id'     : 'QiM1vjQ7SAoirKD4qY57L82O-gzGzoHsz',
            'X-LC-Key'    : 'aOHhzmfDblK0HGWUqEyb6ra2',
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    });
  </script>


      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  


</body>
</html>
